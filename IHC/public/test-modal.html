<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Modal</title>
</head>
<body style="padding: 50px; font-family: Arial;">
    <h1>Test de Modal de ConfirmaciÃ³n</h1>
    <button id="test-delete" style="padding: 10px 20px; font-size: 16px;">
        ğŸ—‘ï¸ Click para probar eliminar
    </button>

    <!-- Modal: Confirmar Eliminar Producto -->
    <div class="modal" id="confirm-delete-modal" role="dialog" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; overflow: auto;">
        <div class="modal__overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 1;"></div>
        <div class="modal__container" style="position: relative; max-width: 450px; background: linear-gradient(135deg, #1a1410 0%, #0a0a0a 100%); border-radius: 16px; box-shadow: 0 20px 60px rgba(212, 175, 55, 0.3); border: 1px solid rgba(212, 175, 55, 0.2); padding: 40px; z-index: 2; margin: 20px;">
            <button class="modal__close" style="position: absolute; top: 20px; right: 20px; background: rgba(212, 175, 55, 0.1); border: 1px solid rgba(212, 175, 55, 0.3); color: #D4AF37; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; font-size: 18px;">
                âœ•
            </button>
            
            <div class="modal__content" style="color: #f5f5f5; text-align: center;">
                <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #FF6B6B 0%, #EE5A52 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);">
                    ğŸ—‘ï¸
                </div>
                <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 10px; color: #f5f5f5;">Â¿Eliminar producto?</h2>
                <p id="delete-product-name" style="color: #b0b0b0; margin-bottom: 20px; font-size: 15px;">Producto de prueba</p>
                <p style="color: #888; font-size: 14px; margin-bottom: 30px;">Esta acciÃ³n no se puede deshacer.</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <button type="button" class="btn-cancel" style="padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 14px; background: transparent; color: #888; border: 1px solid rgba(255, 255, 255, 0.2);">
                        âœ• Cancelar
                    </button>
                    <button type="button" class="btn-confirm-delete" style="padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 14px; background: linear-gradient(135deg, #FF6B6B 0%, #EE5A52 100%); color: #fff; border: none; box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);">
                        ğŸ—‘ï¸ SÃ­, eliminar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        console.log('Script iniciado');

        function openModal(modalId) {
            console.log('openModal llamado con:', modalId);
            const modal = document.getElementById(modalId);
            console.log('Modal encontrado:', modal);
            if (modal) {
                document.body.style.overflow = 'hidden';
                modal.style.display = 'flex';
                setTimeout(() => {
                    modal.style.opacity = '1';
                    console.log('Modal opacity cambiado a 1');
                }, 10);
            } else {
                console.error('Modal NO encontrado');
            }
        }

        function closeModal(modalId) {
            console.log('closeModal llamado con:', modalId);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.opacity = '0';
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = '';
                    console.log('Modal cerrado');
                }, 300);
            }
        }

        window.addEventListener('load', () => {
            console.log('Window load event');
            
            // Test button
            document.getElementById('test-delete').addEventListener('click', () => {
                console.log('Test button clicked!');
                openModal('confirm-delete-modal');
            });

            // Confirm button
            const btnConfirm = document.querySelector('.btn-confirm-delete');
            console.log('btnConfirm:', btnConfirm);
            if (btnConfirm) {
                btnConfirm.addEventListener('click', () => {
                    console.log('Confirm clicked');
                    alert('Producto eliminado');
                    closeModal('confirm-delete-modal');
                });
            }

            // Cancel button
            const btnCancel = document.querySelector('.btn-cancel');
            console.log('btnCancel:', btnCancel);
            if (btnCancel) {
                btnCancel.addEventListener('click', () => {
                    console.log('Cancel clicked');
                    closeModal('confirm-delete-modal');
                });
            }

            // Close button
            const btnClose = document.querySelector('.modal__close');
            console.log('btnClose:', btnClose);
            if (btnClose) {
                btnClose.addEventListener('click', () => {
                    console.log('Close clicked');
                    closeModal('confirm-delete-modal');
                });
            }

            // Overlay
            const overlay = document.querySelector('.modal__overlay');
            console.log('overlay:', overlay);
            if (overlay) {
                overlay.addEventListener('click', () => {
                    console.log('Overlay clicked');
                    closeModal('confirm-delete-modal');
                });
            }
        });
    </script>
</body>
</html>
